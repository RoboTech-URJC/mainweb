<!-- FILE: concurso.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Growing in Robotics by RoboTech - Concurso de Rob√≥tica y Programaci√≥n" />
  <meta name="author" content="RoboTech" />
  <title>Growing in Robotics by RoboTech</title>

  <!-- ESTILOS ORIGINALES (NO MODIFICADOS) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* --- NO SE HA MODIFICADO NADA DE TU CSS ORIGINAL --- */
    :root { --negro:#1a1a1a; --blanco:#fff; --rojo:#fd0010; --rojo-oscuro:#c9000c; --gris-claro:#f8f9fa; --gris-medio:#e0e0e0; --sombra:rgba(0,0,0,.15); }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Poppins',sans-serif;background:var(--gris-claro);color:var(--negro)}
    header{background:linear-gradient(135deg,var(--rojo),var(--rojo-oscuro));color:var(--blanco);box-shadow:0 4px 12px var(--sombra)}
    .hero{position:relative;background:url('img/header_concurso.jpg') no-repeat center/cover;min-height:45vh;display:grid;place-items:center;padding:60px 20px}
    .hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.5)}
    .hero-content{position:relative;z-index:1;text-align:center;color:var(--blanco)}
    .hero h1{font-size:3rem;margin-bottom:10px}
    .hero p{font-size:1.1rem;opacity:.95;max-width:900px;margin:0 auto}
    nav{display:flex;justify-content:center;padding:16px}
    nav ul{list-style:none;display:flex;gap:14px;flex-wrap:wrap;background:var(--blanco);padding:10px;border-radius:40px;box-shadow:0 2px 8px var(--sombra)}
    nav a{display:flex;align-items:center;gap:8px;background:linear-gradient(90deg,var(--rojo),var(--rojo-oscuro));color:var(--blanco);text-decoration:none;padding:10px 20px;border-radius:25px;transition:.3s;font-weight:500}
    nav a:hover{transform:translateY(-2px)}
    main{max-width:1100px;margin:30px auto;padding:0 20px 60px}
    .section{background:var(--blanco);border-radius:20px;box-shadow:0 4px 12px var(--sombra);padding:28px;margin-bottom:24px}
    .section h2{color:var(--rojo);margin-bottom:10px;font-size:1.9rem}
    .muted{color:#555}
    .grid{display:grid;gap:16px}
    .grid-2{grid-template-columns:repeat(2,1fr)}
    .grid-3{grid-template-columns:repeat(3,1fr)}
    .card{background:var(--gris-claro);border-radius:16px;padding:16px;border:1px solid var(--gris-medio)}
    .cta-button{display:inline-block;background:linear-gradient(90deg,var(--rojo),var(--rojo-oscuro));color:var(--blanco);padding:12px 24px;border-radius:999px;text-decoration:none;font-weight:600;transition:.3s}
    .cta-button:hover{transform:scale(1.03)}
    ol,ul{margin-left:18px;line-height:1.8}
    details{border:1px solid var(--gris-medio);border-radius:12px;padding:14px 16px;background:#fff}
    details+details{margin-top:10px}
    summary{cursor:pointer;font-weight:600;color:var(--rojo-oscuro)}
    .timeline{position:relative;margin:10px 0}
    .timeline::before{content:"";position:absolute;left:10px;top:0;bottom:0;width:2px;background:var(--gris-medio)}
    .milestone{position:relative;margin-left:30px;padding-left:14px;margin-bottom:14px}
    .milestone::before{content:"";position:absolute;left:-20px;top:4px;width:10px;height:10px;background:var(--rojo);border-radius:50%;box-shadow:0 0 0 4px #ffe5e7}
    footer{text-align:center;color:#555;padding:24px}

    .colaboran-logos{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:40px;
      margin-top:20px;
      flex-wrap:wrap;
    }

    .colaboran-logos img{
      height:80px;
      object-fit:contain;
      filter:drop-shadow(0 2px 4px rgba(0,0,0,.2));
    }

    @media(max-width:900px){
      .grid-2,.grid-3{grid-template-columns:1fr}
      .hero h1{font-size:2.2rem}
    }

    /* ====== ESTILOS DEL PUZLE DIARIO ====== */
    .puzzle-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      max-width: 600px;
      margin: 25px auto;
      gap: 6px;
    }
    .piece {
      position: relative;
      width: 100%;
      padding-bottom: 75%; /* proporci√≥n */
      background-size: 400% 300%;
      background-repeat: no-repeat;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 3px 8px rgba(0,0,0,.15);
    }
    .piece.locked::after {
      content:"\f023"; /* candado */
      font-family:"Font Awesome 6 Free";
      font-weight:900;
      position:absolute;
      inset:0;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:2rem;
      color:#fff;
      background:rgba(0,0,0);
    }
    .piece.revealed {
      animation: fadeInPiece 0.8s ease forwards;
    }
    @keyframes fadeInPiece {
      from { opacity:0.2; filter:brightness(0.4); }
      to   { opacity:1; filter:none; }
    }
  </style>
</head>

<body>

  <!-- ======================================================= -->
  <!-- ENCABEZADO -->
  <!-- ======================================================= -->
  <header>
    <div class="hero">
      <div class="hero-content">
        <h1>Growing in Robotics by RoboTech</h1>
        <p>
          Concurso educativo de rob√≥tica y programaci√≥n en 
          <strong><a href="https://kibotics.org" target="_blank" style="color:#fff;text-decoration:underline">Kibotics</a></strong>.
        </p>
      </div>
    </div>

    <nav>
      <ul>
        <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a href="#resumen"><i class="fas fa-info-circle"></i> Resumen</a></li>
        <li><a href="#puzzle"><i class="fas fa-puzzle-piece"></i> Puzzle</a></li>
        <li><a href="#bases"><i class="fas fa-scroll"></i> Bases</a></li>
        <li><a href="#escenarios"><i class="fas fa-map"></i> Escenarios</a></li>
        <li><a href="#entrega"><i class="fas fa-upload"></i> Entrega</a></li>
        <li><a href="#evaluacion"><i class="fas fa-ranking-star"></i> Evaluaci√≥n</a></li>
        <li><a href="#premios"><i class="fas fa-trophy"></i> Premios</a></li>
        <li><a href="#contacto"><i class="fas fa-envelope"></i> Contacto</a></li>
      </ul>
    </nav>
  </header>

  <!-- ======================================================= -->
  <!-- CONTENIDO PRINCIPAL -->
  <!-- ======================================================= -->
  <main>

    <!-- ======================================================= -->
    <!-- RESUMEN -->
    <!-- ======================================================= -->
    <section class="section" id="resumen">
      <h2>Resumen</h2>

      <p>
        <strong>Growing in Robotics by RoboTech</strong> es un concurso donde el alumnado deber√° programar robots en 
        <strong><a href="https://kibotics.org" target="_blank">Kibotics</a></strong>
        para superar uno de los dos escenarios disponibles.  
      </p>

      <!-- BLOQUE DE EXPECTATIVA -->
      <div class="card" style="text-align:center; padding:25px; margin-top:20px; border:2px solid var(--rojo);">
        <h2 style="color:var(--rojo)">‚è≥ ¬°Muy pronto!</h2>
        <p style="font-size:1.1rem; margin-top:8px;">
          El <strong>reto oficial</strong> se liberar√° el  
          <span style="color:var(--rojo); font-weight:600;">15 de diciembre a las 12:00</span>.
        </p>
        <p class="muted">Prep√°rate para el siguel√≠neas, el bosque, monedas, obst√°culos y mucha creatividad‚Ä¶</p>
      </div>

      <!-- BOT√ìN SUPER LLAMATIVO PARA KIBOTICS -->
      <div style="text-align:center; margin-top:25px;">
        <a href="https://kibotics.org"
           target="_blank"
           class="cta-button"
           style="font-size:1.4rem; padding:18px 40px; border-radius:50px; display:inline-block;">
          ü§ñ PROGRAMAR AQU√ç
        </a>
      </div>

      <div class="grid grid-3" style="margin-top:24px">
        <div class="card"><strong><i class="fa-solid fa-gift"></i> Premio</strong><br/>Starter Kit ESP32 + menciones.</div>
        <div class="card"><strong><i class="fa-solid fa-robot"></i> Plataforma</strong><br/>Simulaci√≥n en <a href="https://kibotics.org" target="_blank">Kibotics</a>.</div>
        <div class="card"><strong><i class="fa-solid fa-people-group"></i> P√∫blico</strong><br/>Estudiantes seleccionados por RoboTech o centros colaboradores.</div>
      </div>
    </section>

    <!-- ======================================================= -->
    <!-- PUZZLE DIARIO -->
    <!-- ======================================================= -->
    <section class="section" id="puzzle">
      <h2>Cuenta atr√°s del reto</h2>
      <p class="muted">Cada d√≠a se desbloquea una pieza hasta el <strong>15 de diciembre a las 12:00</strong>.</p>

      <div id="puzzle-grid" class="puzzle-grid"></div>

      <div style="text-align:center; margin-top:15px;">
        <h3 id="countdown" style="color:var(--rojo); font-weight:600;"></h3>
      </div>
    </section>

    <!-- ======================================================= -->
    <!-- BASES -->
    <!-- ======================================================= -->
    <section class="section" id="bases">
      <h2>Bases del concurso</h2>

      <div class="grid grid-2">

        <div class="card">
          <h3>Participantes</h3>
          <ul>
            <li>Estudiantes seleccionados por RoboTech.</li>
            <li>Estudiantes propuestos por centros con convenio.</li>
            <li>Puede requerirse validaci√≥n de identidad.</li>
          </ul>
        </div>

        <div class="card">
          <h3>Formato</h3>
          <ul>
            <li>Reto realizado en <a href="https://kibotics.org" target="_blank">Kibotics</a>.</li>
            <li>Lenguaje: Python.</li>
            <li>Entrega por correo con asunto <code>XXXXX</code>.</li>
            <li>Archivo: <code>nombre_apellidos.py</code>.</li>
          </ul>
        </div>

        <div class="card">
          <h3>Derechos de imagen</h3>
          <p>La organizaci√≥n podr√° usar im√°genes generadas durante el concurso.</p>
        </div>

        <div class="card">
          <h3>Final</h3>
          <p>Los 10 mejores proyectos ser√°n finalistas y presentar√°n su trabajo en formato profesional.</p>
        </div>

      </div>
    </section>


    <!-- ======================================================= -->
    <!-- ENTREGA -->
    <!-- ======================================================= -->
    <section class="section" id="entrega">
      <h2>Entrega</h2>
      <p>Env√≠a tu archivo <code>nombre_apellidos.py</code> al correo oficial con asunto <strong>XXXXX</strong>.</p>
      <p>El reto se resolver√° en <a href="https://kibotics.org" target="_blank">Kibotics</a>.</p>
    </section>

    <!-- ======================================================= -->
    <!-- EVALUACI√ìN -->
    <!-- ======================================================= -->
    <section class="section" id="evaluacion">
      <h2>Evaluaci√≥n</h2>

      <div class="grid grid-2">

        <div class="card">
          <h3>Criterios comunes</h3>
          <ul>
            <li>Limpieza del c√≥digo</li>
            <li>Buenas pr√°cticas</li>
            <li>Eficiencia</li>
            <li>Estabilidad</li>
            <li>Escalabilidad</li>
            <li>Creatividad t√©cnica</li>
          </ul>
        </div>

        <div class="card">
          <h3>Criterios por escenario</h3>
          <p><strong>Siguel√≠neas:</strong> seguimiento, monedas, tiempo, estabilidad.</p>
          <p><strong>Bosque:</strong> obst√°culos, choques, monedas, tiempo, adaptaci√≥n.</p>
        </div>

      </div>
    </section>

    <!-- ======================================================= -->
    <!-- PREMIOS -->
    <!-- ======================================================= -->
    <section class="section" id="premios">
      <h2>Premios</h2>
      <ul>
        <li><strong>Primer premio:</strong> Starter Kit ESP32.</li>
        <li><strong>Menciones especiales:</strong> certificado + difusi√≥n.</li>
      </ul>
    </section>

    <!-- ======================================================= -->
    <!-- CONTACTO -->
    <!-- ======================================================= -->
    <section class="section" id="contacto">
      <h2>Contacto</h2>
      <p>Correo: <a href="mailto:robotech.urjc@gmail.com">robotech.urjc@gmail.com</a></p>
    </section>

    <!-- ======================================================= -->
    <!-- INSCRIPCI√ìN -->
    <!-- ======================================================= -->
    <section class="section" id="inscripcion">
      <h2>Pre-inscripci√≥n</h2>
      <p>Rellena el formulario para inscribirte en el concurso:</p>

      <a class="cta-button" 
         href="https://docs.google.com/forms/d/e/1FAIpQLSdXXXXX/viewform"
         target="_blank"
         style="font-size:1.2rem; padding:16px 32px; display:inline-block;">
        üìù FORMULARIO DE INSCRIPCI√ìN
      </a>
    </section>

    <!-- ======================================================= -->
    <!-- COLABORAN -->
    <!-- ======================================================= -->
    <section class="section" id="colaboran">
      <h2>Colaboran</h2>
      <p class="muted">Gracias a nuestros colaboradores oficiales:</p>

      <div class="colaboran-logos">
        <!-- LOGO KIBOTICS -->
        <img src="https://kibotics.org/static/img/logo_sin_fondo-vertical_azul.png" alt="Kibotics">
        <!-- LOGO IES ANTONIO MACHADO -->
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRINIflitClnTcKDBAWeSF3OPhSV4Och9hoXA&s"
             alt="IES Antonio Machado (Soria)">
      </div>
    </section>

  </main>

  <footer>
    <p>&copy; 2025 RoboTech</p>
  </footer>

  <!-- ======================================================= -->
  <!-- SCRIPT PUZZLE + CUENTA ATR√ÅS (CA√ìTICO) -->
  <!-- ======================================================= -->
  <script>
    const releaseDate = new Date("2025-12-15T12:00:00");
    const today = new Date();

    const rows = 3;
    const cols = 4;
    const totalPieces = rows * cols;

    const puzzleDays = totalPieces; // n¬∫ de d√≠as antes del release
    const firstUnlockDate = new Date(releaseDate);
    firstUnlockDate.setDate(releaseDate.getDate() - puzzleDays);

    const grid = document.getElementById("puzzle-grid");

    // Cu√°ntas piezas deber√≠an estar desbloqueadas hoy
    let piecesUnlocked = 0;
    if (today >= releaseDate) {
      piecesUnlocked = totalPieces;
    } else if (today >= firstUnlockDate) {
      const diffDays = Math.floor((today - firstUnlockDate) / (1000 * 60 * 60 * 24));
      piecesUnlocked = Math.min(diffDays + 1, totalPieces); // +1 para que el primer d√≠a ya haya algo
    }

    // Orden ca√≥tico de revelaci√≥n (array barajado)
    // ORDEN FIJO DE REVELACI√ìN
    const indices = [
      0,3,8,12,9,5,7,11,1,6,2,4,10,11
    ];



    // Mapa: pieza -> orden de revelaci√≥n
    const revealRank = {};
    indices.forEach((pieceIndex, order) => {
      revealRank[pieceIndex] = order;
    });

    // Generar piezas
    for (let i = 0; i < totalPieces; i++) {
      const piece = document.createElement("div");
      piece.className = "piece locked";

      const row = Math.floor(i / cols);
      const col = i % cols;

      piece.style.backgroundImage = "url('img/reto.png')";
      piece.style.backgroundSize = `${cols * 100}% ${rows * 100}%`;
      piece.style.backgroundPosition = `${(col / (cols - 1)) * 100}% ${(row / (rows - 1)) * 100}%`;

      if (revealRank[i] < piecesUnlocked) {
        piece.classList.remove("locked");
        piece.classList.add("revealed");
      }

      grid.appendChild(piece);
    }

    // ==========================
    //   CUENTA ATR√ÅS
    // ==========================
    const countdown = document.getElementById("countdown");

    function updateCountdown() {
      const now = new Date();
      const diff = releaseDate - now;

      if (diff <= 0) {
        countdown.textContent = "üî• ¬°El reto ya est√° disponible!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const mins = Math.floor((diff / (1000 * 60)) % 60);

      countdown.textContent =
        `Faltan ${days} d√≠as, ${hours} horas y ${mins} minutos para el reto`;
    }

    updateCountdown();
    setInterval(updateCountdown, 60 * 1000);
  </script>

</body>
</html>
